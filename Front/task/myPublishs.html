<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no,maximum-scale=1.0">
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../css/iconfont.css" />
		<link rel="stylesheet" href="../css/myPublishs.css" />
		<link rel="stylesheet" href="../css/time.css" />
		<script src="../js/mui.min.js"></script>
		<style type="text/css">
			.time-horizontal li:nth-child(2)>b:before {
				content: '';
				position: absolute;
				top: -10px;
				width: 14px;
				height: 14px;
				border: 3px solid #F39A92;
				border-radius: 50%;
				background: #E83928;
			}
		</style>
	</head>
<!--我发布的-->
	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon iconfont icon-left"></a>
			<h1 class="mui-title">我的发布</h1>
		</header>
		<div class="mui-content">
			<div class="mui-row">
				<div class="mui-col-sm-12 mui-col-xs-12 publisherArea">
					<div>
						<img src="../logo/logo.png" />
					</div>
					<div>
						<h4>执行中</h4>
						<h4>执行人：用户名称</h4>
						<h4>手机：<span>12345678901</span></h4>
						<div>
							<div>
								<i class="mui-icon iconfont icon-shimingrenzheng"></i>
							</div>
							<div>
								<i>认证</i>
							</div>
						</div>
					</div>
				</div>
				<div class="mui-col-sm-12 mui-col-xs-12 completeArea">
					<div>
						<span>已完成0%</span>
						<span>已完成50%</span>
						<span>已完成100%</span>
					</div>
					<ul class="time-horizontal">
				        <li><b></b></li>
				        <li><b></b></li>
				        <li><b></b></li>
				    </ul>
				</div>
				<div class="mui-col-sm-12 mui-col-xs-12 progreesDetails">
					<ul>
				    	<li><h4>查看位置</h4><h5>2018-04-03&nbsp;08:20:38</h5></li>
				    	<li><h4>查看位置</h4><h5>2018-04-03&nbsp;08:20:38</h5></li>
				    	<!--<li><h4>查看位置</h4><span>2018-04-03&nbsp;08:20:38</span></li>-->
				    </ul>
				</div>
				<div class="mui-col-sm-12 mui-col-xs-12 taskdetails">
					<div align="center">
						<h3 id="taskMoney"></h3>
						<span>任务悬赏金额</span>
					</div>
					<div align="center">
						<h3 id="timeLeft"></h3>
						<h3 id="hideTimeLeft" style="display: none;"></h3>
						<span>任务剩余时间</span>
					</div>
					<div align="center">
						<h3>00:00:00</h3>
						<span>任务延迟时间</span>
					</div>
				</div>
				<div class="mui-col-sm-12 mui-col-xs-12 taskBtns" align="center">
					<div class="mui-content-padded">
						<button type="button" class="mui-btn mui-btn-danger" id="confirmPublish2">确认完成</button>
						<button type="button" class="mui-btn mui-btn-warning">发起取消</button>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			//为date添加格式化原型函数
			Date.prototype.Format = function (fmt) { 
			    var o = {
			        "M+": this.getMonth() + 1, //月份 
			        "d+": this.getDate(), //日 
			        "h+": this.getHours(), //小时 
			        "m+": this.getMinutes(), //分 
			        "s+": this.getSeconds(), //秒 
			        "q+": Math.floor((this.getMonth() + 3) / 3), //季度 
			        "S": this.getMilliseconds() //毫秒 
			    };
			    if (/(y+)/.test(fmt)) {
			        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
			    }
			    for (var k in o)
			        if (new RegExp("(" + k + ")").test(fmt)) 
			            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
			    return fmt;
			    
			}			
			mui.init();
			mui.plusReady(function(){
				window.self = plus.webview.currentWebview();
				window.money = self.money;
				window.t = self.time;
				var ts = new Date(t);
				countDown(ts);
				document.getElementById("taskMoney").textContent = money;
				document.getElementById("confirmPublish2").addEventListener("tap",function(){
					mui.openWindow({
						url:'myPublishss.html',
						id:'myPublishss',
						extras:{
							money:money,
							time:ts
						}
					});
				});
			});
			//带天数的倒计时
	function countDown(t) {
		var now = new Date();
		var times = ((t - now) / 1000); 
		//alert(times);
		var timer = null;
		timer = setInterval(function() {
			var day = 0,
				hour = 0,
				minute = 0,
				second = 0; //时间默认值
			if(times > 0) {
				day = Math.floor(times / (60 * 60 * 24));
				hour = Math.floor(times / (60 * 60)) - (day * 24);
				minute = Math.floor(times / 60) - (day * 24 * 60) - (hour * 60);
				second = Math.floor(times) - (day * 24 * 60 * 60) - (hour * 60 * 60) - (minute * 60);
			}
			if(day <= 9) day = '0' + day;
			if(hour <= 9) hour = '0' + hour;
			if(minute <= 9) minute = '0' + minute;
			if(second <= 9) second = '0' + second;
			document.getElementById("timeLeft").textContent = hour + ":" + minute + ":" + second;
			times--;
		}, 1000);
		if(times <= 0) {
			clearInterval(timer);
		}
}
		</script>
	</body>

</html>